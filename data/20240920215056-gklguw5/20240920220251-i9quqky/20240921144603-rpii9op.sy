{"ID":"20240921144603-rpii9op","Spec":"1","Type":"NodeDocument","Properties":{"custom-common-Halo-yaml":"---_esc_newline_created: '2024-09-21 14:46:03'_esc_newline_updated: '2024-09-23 15:32:05'_esc_newline_title: 二叉树_esc_newline_slug: binary-tree-w5fck_esc_newline_permalink: siyuan://blocks/20240921144603-rpii9op_esc_newline_tags:_esc_newline_  - 算法_esc_newline_categories: []_esc_newline_---","custom-picgo-file-map-key":"\u0026#123;\u0026quot;67a5ea1de23d6d7898ffcc47651c326a\u0026quot;:\u0026#123;\u0026quot;name\u0026quot;:\u0026quot;image-20240921185255-hp984fa.png\u0026quot;,\u0026quot;hash\u0026quot;:\u0026quot;67a5ea1de23d6d7898ffcc47651c326a\u0026quot;,\u0026quot;originUrl\u0026quot;:\u0026quot;assets/image-20240921185255-hp984fa.png\u0026quot;,\u0026quot;url\u0026quot;:\u0026quot;https://syc-test111.oss-cn-chengdu.aliyuncs.com/image-20240921185255-hp984fa.png\u0026quot;,\u0026quot;alt\u0026quot;:\u0026quot;image\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;\u0026quot;,\u0026quot;isLocal\u0026quot;:false,\u0026quot;blockId\u0026quot;:\u0026quot;20240921185255-2y4rj96\u0026quot;\u0026#125;,\u0026quot;82adc448c85cfb5fde9b904c29463236\u0026quot;:\u0026#123;\u0026quot;name\u0026quot;:\u0026quot;image-20240921185226-ao97liw.png\u0026quot;,\u0026quot;hash\u0026quot;:\u0026quot;82adc448c85cfb5fde9b904c29463236\u0026quot;,\u0026quot;originUrl\u0026quot;:\u0026quot;assets/image-20240921185226-ao97liw.png\u0026quot;,\u0026quot;url\u0026quot;:\u0026quot;https://syc-test111.oss-cn-chengdu.aliyuncs.com/image-20240921185226-ao97liw.png\u0026quot;,\u0026quot;alt\u0026quot;:\u0026quot;image\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;\u0026quot;,\u0026quot;isLocal\u0026quot;:false,\u0026quot;blockId\u0026quot;:\u0026quot;20240921185255-2y4rj96\u0026quot;\u0026#125;,\u0026quot;4c6aa316a0261b694cc1cbe9789c0a66\u0026quot;:\u0026#123;\u0026quot;name\u0026quot;:\u0026quot;image-20240921185208-64a3j0n.png\u0026quot;,\u0026quot;hash\u0026quot;:\u0026quot;4c6aa316a0261b694cc1cbe9789c0a66\u0026quot;,\u0026quot;originUrl\u0026quot;:\u0026quot;assets/image-20240921185208-64a3j0n.png\u0026quot;,\u0026quot;url\u0026quot;:\u0026quot;https://syc-test111.oss-cn-chengdu.aliyuncs.com/image-20240921185208-64a3j0n.png\u0026quot;,\u0026quot;alt\u0026quot;:\u0026quot;image\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;\u0026quot;,\u0026quot;isLocal\u0026quot;:false,\u0026quot;blockId\u0026quot;:\u0026quot;20240921185255-2y4rj96\u0026quot;\u0026#125;,\u0026quot;97e9a2663dcba0960051ad32b3908352\u0026quot;:\u0026#123;\u0026quot;name\u0026quot;:\u0026quot;image-20240921184630-7jaslsl.png\u0026quot;,\u0026quot;hash\u0026quot;:\u0026quot;97e9a2663dcba0960051ad32b3908352\u0026quot;,\u0026quot;originUrl\u0026quot;:\u0026quot;assets/image-20240921184630-7jaslsl.png\u0026quot;,\u0026quot;url\u0026quot;:\u0026quot;https://syc-test111.oss-cn-chengdu.aliyuncs.com/image-20240921184630-7jaslsl.png\u0026quot;,\u0026quot;alt\u0026quot;:\u0026quot;image\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;\u0026quot;,\u0026quot;isLocal\u0026quot;:false,\u0026quot;blockId\u0026quot;:\u0026quot;20240921185255-2y4rj96\u0026quot;\u0026#125;,\u0026quot;d678557f85bd053643b441b9c985195a\u0026quot;:\u0026#123;\u0026quot;name\u0026quot;:\u0026quot;recording-20240921184554-fn5aodw.gif\u0026quot;,\u0026quot;hash\u0026quot;:\u0026quot;d678557f85bd053643b441b9c985195a\u0026quot;,\u0026quot;originUrl\u0026quot;:\u0026quot;assets/recording-20240921184554-fn5aodw.gif\u0026quot;,\u0026quot;url\u0026quot;:\u0026quot;https://syc-test111.oss-cn-chengdu.aliyuncs.com/recording-20240921184554-fn5aodw.gif\u0026quot;,\u0026quot;alt\u0026quot;:\u0026quot;recording\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;\u0026quot;,\u0026quot;isLocal\u0026quot;:false,\u0026quot;blockId\u0026quot;:\u0026quot;20240921185255-2y4rj96\u0026quot;\u0026#125;,\u0026quot;0a52afe28e410b80a0e86521009806ce\u0026quot;:\u0026#123;\u0026quot;name\u0026quot;:\u0026quot;image-20240921183228-au7phm7.png\u0026quot;,\u0026quot;hash\u0026quot;:\u0026quot;0a52afe28e410b80a0e86521009806ce\u0026quot;,\u0026quot;originUrl\u0026quot;:\u0026quot;assets/image-20240921183228-au7phm7.png\u0026quot;,\u0026quot;url\u0026quot;:\u0026quot;https://syc-test111.oss-cn-chengdu.aliyuncs.com/image-20240921183228-au7phm7.png\u0026quot;,\u0026quot;alt\u0026quot;:\u0026quot;image\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;\u0026quot;,\u0026quot;isLocal\u0026quot;:false,\u0026quot;blockId\u0026quot;:\u0026quot;20240921185255-2y4rj96\u0026quot;\u0026#125;\u0026#125;","id":"20240921144603-rpii9op","tags":"算法,数据结构","title":"二叉树","type":"doc","updated":"20240923110329"},"Children":[{"ID":"20240921150235-sztkft7","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240921150235-sztkft7","updated":"20240921144750"},"Children":[{"Type":"NodeText","Data":"基本定义"}]},{"ID":"20240921144743-4r4tl60","Type":"NodeParagraph","Properties":{"id":"20240921144743-4r4tl60","updated":"20240921144750"},"Children":[{"Type":"NodeText","Data":"二叉树（binary tree）是一种非线性数据结构，代表“祖先”与“后代”之间的派生关系，体现了“一分为二”的分治逻辑。与链表类似，二叉树的基本单元是节点，每个节点包含值、左子节点引用和右子节点引用。"}]},{"ID":"20240921145605-04wzhql","Type":"NodeParagraph","Properties":{"id":"20240921145605-04wzhql","updated":"20240921145605"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240921145605-y20iz5s.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20240921150640-wvkscn3","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240921150640-wvkscn3","updated":"20240921150657"},"Children":[{"Type":"NodeText","Data":"类型"}]},{"ID":"20240921145605-txjll60","Type":"NodeList","ListData":{},"Properties":{"id":"20240921145605-txjll60","updated":"20240921150657"},"Children":[{"ID":"20240921150657-l6r6l40","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240921150657-l6r6l40","updated":"20240921150657"},"Children":[{"ID":"20240921150657-xcoutls","Type":"NodeParagraph","Properties":{"id":"20240921150657-xcoutls","updated":"20240921150657"},"Children":[{"Type":"NodeText","Data":"平衡二叉树（balanced binary tree）中任意节点的左子树和右子树的高度之差的绝对值不超过 1 。"}]}]},{"ID":"20240921151411-lwrtdli","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240921151411-lwrtdli","updated":"20240921151411"},"Children":[{"ID":"20240921151411-22hkmbt","Type":"NodeParagraph","Properties":{"id":"20240921151411-22hkmbt","updated":"20240921151411"},"Children":[{"Type":"NodeText","Data":"完美二叉树（perfect binary tree）所有层的节点都被完全填满。"}]}]},{"ID":"20240921151412-evcyko5","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240921151412-evcyko5","updated":"20240921151412"},"Children":[{"ID":"20240921151412-f4q3jh6","Type":"NodeParagraph","Properties":{"id":"20240921151412-f4q3jh6","updated":"20240921151418"},"Children":[{"Type":"NodeText","Data":"完全二叉树（complete binary tree）只有最底层的节点未被填满，且最底层节点尽量靠左填充。"}]}]},{"ID":"20240921151419-z0a6pmg","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240921151419-z0a6pmg","updated":"20240921151419"},"Children":[{"ID":"20240921151419-h1bp6ae","Type":"NodeParagraph","Properties":{"id":"20240921151419-h1bp6ae","updated":"20240921151426"},"Children":[{"Type":"NodeText","Data":"完满二叉树（full binary tree）除了叶节点之外，其余所有节点都有两个子节点。"}]}]}]},{"ID":"20240921151438-able8qf","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240921151438-able8qf","updated":"20240921161816"},"Children":[{"Type":"NodeText","Data":"遍历"}]},{"ID":"20240921154026-xvlh5t0","Type":"NodeParagraph","Properties":{"id":"20240921154026-xvlh5t0","updated":"20240921154040"},"Children":[{"Type":"NodeText","Data":"遍历方法："}]},{"ID":"20240921151507-e5w5aoi","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20240921151507-e5w5aoi","updated":"20240921161816"},"Children":[{"ID":"20240921154022-hggph6q","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20240921154022-hggph6q","updated":"20240921154022"},"Children":[{"ID":"20240921154022-36gwx7t","Type":"NodeParagraph","Properties":{"id":"20240921154022-36gwx7t","updated":"20240921154022"},"Children":[{"Type":"NodeText","Data":"深度优先：先序遍历、中序遍历、后序遍历。"}]}]},{"ID":"20240921154023-1dybm52","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20240921154023-1dybm52","updated":"20240921161816"},"Children":[{"ID":"20240921154023-hue27b8","Type":"NodeParagraph","Properties":{"id":"20240921154023-hue27b8","updated":"20240921161816"},"Children":[{"Type":"NodeText","Data":"广度优先：层序遍历。"}]}]}]},{"ID":"20240921155614-xdqer1h","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240921155614-xdqer1h","updated":"20240921161803"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Y3Bw"},{"Type":"NodeCodeBlockCode","Data":"/* 前序遍历 */\nvoid preOrder(TreeNode *root) {\n    if (root == nullptr)\n        return;\n    // 访问优先级：根节点 -\u003e 左子树 -\u003e 右子树\n    vec.push_back(root-\u003eval);\n    preOrder(root-\u003eleft);\n    preOrder(root-\u003eright);\n}\n\n/* 中序遍历 */\nvoid inOrder(TreeNode *root) {\n    if (root == nullptr)\n        return;\n    // 访问优先级：左子树 -\u003e 根节点 -\u003e 右子树\n    inOrder(root-\u003eleft);\n    vec.push_back(root-\u003eval);\n    inOrder(root-\u003eright);\n}\n\n/* 后序遍历 */\nvoid postOrder(TreeNode *root) {\n    if (root == nullptr)\n        return;\n    // 访问优先级：左子树 -\u003e 右子树 -\u003e 根节点\n    postOrder(root-\u003eleft);\n    postOrder(root-\u003eright);\n    vec.push_back(root-\u003eval);\n}\n/* 层序遍历 */\nvector\u003cint\u003e levelOrder(TreeNode *root) {\n    // 初始化队列，加入根节点\n    queue\u003cTreeNode *\u003e queue;\n    queue.push(root);\n    // 初始化一个列表，用于保存遍历序列\n    vector\u003cint\u003e vec;\n    while (!queue.empty()) {\n        TreeNode *node = queue.front();\n        queue.pop();              // 队列出队\n        vec.push_back(node-\u003eval); // 保存节点值\n        if (node-\u003eleft != nullptr)\n            queue.push(node-\u003eleft); // 左子节点入队\n        if (node-\u003eright != nullptr)\n            queue.push(node-\u003eright); // 右子节点入队\n    }\n    return vec;\n}\n\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240921155626-m2tuvhp","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240921155626-m2tuvhp","updated":"20240921163340"},"Children":[{"Type":"NodeText","Data":"二叉搜索树"}]},{"ID":"20240921163513-biil6g9","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240921163513-biil6g9","updated":"20240921163340"},"Children":[{"Type":"NodeText","Data":"定义"}]},{"ID":"20240921163323-ck6xw2u","Type":"NodeParagraph","Properties":{"id":"20240921163323-ck6xw2u","updated":"20240921163323"},"Children":[{"Type":"NodeText","Data":"如下图所示，二叉搜索树（binary search tree）满足以下条件。"}]},{"ID":"20240921163323-fcfm0kx","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20240921163323-fcfm0kx","updated":"20240921163340"},"Children":[{"ID":"20240921163340-3ox1n4q","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20240921163340-3ox1n4q","updated":"20240921163340"},"Children":[{"ID":"20240921163340-xjs10vg","Type":"NodeParagraph","Properties":{"id":"20240921163340-xjs10vg","updated":"20240921163342"},"Children":[{"Type":"NodeText","Data":"对于根节点，左子树中所有节点的值\u003c根节点的值\u003c右子树中所有节点的值。"}]}]},{"ID":"20240921163343-kdzbx5n","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20240921163343-kdzbx5n","updated":"20240921163343"},"Children":[{"ID":"20240921163343-tnpziv1","Type":"NodeParagraph","Properties":{"id":"20240921163343-tnpziv1","updated":"20240921163343"},"Children":[{"Type":"NodeText","Data":"任意节点的左、右子树也是二叉搜索树，即同样满足条件 1. 。"}]}]}]},{"ID":"20240921163509-ew8dosf","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240921163509-ew8dosf","updated":"20240921163539"},"Children":[{"Type":"NodeText","Data":"搜索"}]},{"ID":"20240921163500-n0jbfxr","Type":"NodeParagraph","Properties":{"id":"20240921163500-n0jbfxr","updated":"20240921163500"},"Children":[{"Type":"NodeText","Data":"给定目标节点值 num ，可以根据二叉搜索树的性质来查找。如图 7-17 所示，我们声明一个节点 cur ，从二叉树的根节点 root 出发，循环比较节点值 cur.val 和 num 之间的大小关系。"}]},{"ID":"20240921163539-f22ho85","Type":"NodeList","ListData":{},"Properties":{"id":"20240921163539-f22ho85","updated":"20240921163539"},"Children":[{"ID":"20240921163539-259tjqy","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240921163539-259tjqy","updated":"20240921163539"},"Children":[{"ID":"20240921163500-oj8tzky","Type":"NodeParagraph","Properties":{"id":"20240921163500-oj8tzky","updated":"20240921163541"},"Children":[{"Type":"NodeText","Data":"若 cur.val \u003c num ，说明目标节点在 cur 的右子树中，因此执行 cur = cur.right 。"}]}]},{"ID":"20240921163542-orarfnh","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240921163542-orarfnh","updated":"20240921163542"},"Children":[{"ID":"20240921163542-t4xb119","Type":"NodeParagraph","Properties":{"id":"20240921163542-t4xb119","updated":"20240921163543"},"Children":[{"Type":"NodeText","Data":"若 cur.val \u003e num ，说明目标节点在 cur 的左子树中，因此执行 cur = cur.left 。"}]}]},{"ID":"20240921163543-blr1u0a","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240921163543-blr1u0a","updated":"20240921163543"},"Children":[{"ID":"20240921163543-qy87yf9","Type":"NodeParagraph","Properties":{"id":"20240921163543-qy87yf9","updated":"20240921163543"},"Children":[{"Type":"NodeText","Data":"若 cur.val = num ，说明找到目标节点，跳出循环并返回该节点。"}]}]}]},{"ID":"20240921163535-bvm13ac","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240921163535-bvm13ac","updated":"20240921174000"},"Children":[{"Type":"NodeText","Data":"插入与删除"}]},{"ID":"20240921164234-vq552mg","Type":"NodeParagraph","Properties":{"id":"20240921164234-vq552mg","updated":"20240921164313"},"Children":[{"Type":"NodeText","Data":"搜索速度快，相应的插入和删除就会麻烦一些（因为要满足二叉搜索树的规范）"}]},{"ID":"20240921172919-qxsjxoh","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20240921172919-qxsjxoh","updated":"20240921174000"},"Children":[{"Type":"NodeText","Data":"插入"}]},{"ID":"20240921173814-w5xwkes","Type":"NodeParagraph","Properties":{"id":"20240921173814-w5xwkes","updated":"20240921173912"},"Children":[{"Type":"NodeText","Data":"二叉搜索树不允许存在重复节点，否则将违反其定义。因此，若待插入节点在树中已存在，则不执行插入，直接返回。插入的节点一定在最顶层，作为叶子节点。"}]},{"ID":"20240921173835-nare2mu","Type":"NodeParagraph","Properties":{"id":"20240921173835-nare2mu","updated":"20240921173917"},"Children":[{"Type":"NodeText","Data":"为了实现插入节点，我们需要借助节点 pre 保存上一轮循环的节点。这样在遍历至 None 时，我们可以获取到其父节点，从而完成节点插入操作。"}]},{"ID":"20240921173918-4jtv75o","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240921173918-4jtv75o","updated":"20240921174000"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Y3Bw"},{"Type":"NodeCodeBlockCode","Data":"/* 插入节点 */\nvoid insert(int num) {\n    // 若树为空，则初始化根节点\n    if (root == nullptr) {\n        root = new TreeNode(num);\n        return;\n    }\n    TreeNode *cur = root, *pre = nullptr;\n    // 循环查找，越过叶节点后跳出\n    while (cur != nullptr) {\n        // 找到重复节点，直接返回\n        if (cur-\u003eval == num)\n            return;\n        pre = cur;\n        // 插入位置在 cur 的右子树中\n        if (cur-\u003eval \u003c num)\n            cur = cur-\u003eright;\n        // 插入位置在 cur 的左子树中\n        else\n            cur = cur-\u003eleft;\n    }\n    // 插入节点\n    TreeNode *node = new TreeNode(num);\n    if (pre-\u003eval \u003c num)\n        pre-\u003eright = node;\n    else\n        pre-\u003eleft = node;\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240921174001-965efoq","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20240921174001-965efoq","updated":"20240921175248"},"Children":[{"Type":"NodeText","Data":"删除"}]},{"ID":"20240921174715-j5351o7","Type":"NodeBlockquote","Properties":{"id":"20240921174715-j5351o7","updated":"20240921175315"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e"},{"ID":"20240921174804-mi0s0h6","Type":"NodeParagraph","Properties":{"id":"20240921174804-mi0s0h6","updated":"20240921174810"},"Children":[{"Type":"NodeText","Data":"前置知识："}]},{"ID":"20240921174729-i1agy5g","Type":"NodeParagraph","Properties":{"id":"20240921174729-i1agy5g","updated":"20240921175315"},"Children":[{"Type":"NodeText","Data":"那么我们知道，二叉搜索树是左\u003c中\u003c右，正好与中序遍历的遍历顺序一致。因此，如果按照中序遍历的顺序遍历二叉搜索树，就可以把所有节点值按顺序排列，从而得出一个重要性质：二叉搜索树的中序遍历序列是升序的。"}]}]},{"ID":"20240921174031-fxzyt89","Type":"NodeParagraph","Properties":{"id":"20240921174031-fxzyt89","updated":"20240921174055"},"Children":[{"Type":"NodeText","Data":"比较复杂，根据目标节点的子节点数量，分 0、1 和 2 三种情况，执行对应的删除节点操作。"}]},{"ID":"20240921174055-aapsjll","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20240921174055-aapsjll","updated":"20240921175248"},"Children":[{"ID":"20240921174109-t0dw1ze","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20240921174109-t0dw1ze","updated":"20240921174109"},"Children":[{"ID":"20240921174109-nx95fpy","Type":"NodeParagraph","Properties":{"id":"20240921174109-nx95fpy","updated":"20240921174109"},"Children":[{"Type":"NodeText","Data":"当待删除节点的度为0时，表示该节点是叶节点，可以直接删除。"}]}]},{"ID":"20240921174154-31dgv63","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20240921174154-31dgv63","updated":"20240921174154"},"Children":[{"ID":"20240921174154-e548tnm","Type":"NodeParagraph","Properties":{"id":"20240921174154-e548tnm","updated":"20240921174158"},"Children":[{"Type":"NodeText","Data":"当待删除节点的度为1时，将待删除节点替换为其子节点即可。"}]}]},{"ID":"20240921174200-4ffqm1s","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"My4=","Num":3},"Properties":{"id":"20240921174200-4ffqm1s","updated":"20240921175248"},"Children":[{"ID":"20240921174200-0xj46g7","Type":"NodeParagraph","Properties":{"id":"20240921174200-0xj46g7","updated":"20240921175248"},"Children":[{"Type":"NodeText","Data":"当待删除节点的度为2时，情况比较复杂，理论上应该按照顺序找出整个树里面按从小到大顺序排序的下一个节点来替换他，那后面的都要依次（递归）替换。这个数就是Node-\u003eright-\u003eleft-\u003eleft......这样子找到的节点就是中序遍历的下一个节点，然后"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"删除（这个地方会形成递归）"},{"Type":"NodeText","Data":"它，直到完成递归。"}]}]}]},{"ID":"20240921174901-xnqov3n","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240921174901-xnqov3n","updated":"20240921185002"},"Children":[{"Type":"NodeText","Data":"AVL树"}]},{"ID":"20240921175916-lukcmme","Type":"NodeParagraph","Properties":{"id":"20240921175916-lukcmme","updated":"20240921180055"},"Children":[{"Type":"NodeText","Data":"在多次插入和删除操作后，二叉搜索树可能退化为链表。在这种情况下，所有操作的时间复杂度将从O(logn)劣化为\nO(n)。"}]},{"ID":"20240921183228-pp3pdxf","Type":"NodeParagraph","Properties":{"id":"20240921183228-pp3pdxf","updated":"20240921183228"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240921183228-au7phm7.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20240921183229-a8v0lkr","Type":"NodeParagraph","Properties":{"id":"20240921183229-a8v0lkr","updated":"20240921185002"},"Children":[{"Type":"NodeText","Data":"AVL 树可以确保在持续添加和删除节点后，AVL 树不会退化，依然是平衡二叉树。AVL 树既是二叉搜索树，也是平衡二叉树，同时满足这两类二叉树的所有性质，因此是一种"},{"Type":"NodeTextMark","TextMarkType":"u strong","TextMarkTextContent":"平衡二叉搜索树"},{"Type":"NodeText","Data":"。"}]},{"ID":"20240921183422-8lia6jw","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240921183422-8lia6jw","updated":"20240921184709"},"Children":[{"Type":"NodeText","Data":"定义"}]},{"ID":"20240921183839-dj0ju23","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240921183839-dj0ju23","updated":"20240921183854"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Y3Bw"},{"Type":"NodeCodeBlockCode","Data":"/* AVL 树节点类 */\nstruct TreeNode {\n    int val{};          // 节点值\n    int height = 0;     // 节点高度\n    TreeNode *left{};   // 左子节点\n    TreeNode *right{};  // 右子节点\n    TreeNode() = default;\n    explicit TreeNode(int x) : val(x){}\n};\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240921184015-nh1idtg","Type":"NodeParagraph","Properties":{"id":"20240921184015-nh1idtg","updated":"20240921184022"},"Children":[{"Type":"NodeText","Data":"相关概念"}]},{"ID":"20240921184017-8msqdp1","Type":"NodeList","ListData":{},"Properties":{"id":"20240921184017-8msqdp1","updated":"20240921184709"},"Children":[{"ID":"20240921184002-kaetjry","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240921184002-kaetjry","updated":"20240921184002"},"Children":[{"ID":"20240921184002-es79tw1","Type":"NodeParagraph","Properties":{"id":"20240921184002-es79tw1","updated":"20240921184005"},"Children":[{"Type":"NodeText","Data":"“节点高度”是指从该节点到它的最远叶节点的距离，即所经过的“边”的数量。叶节点的高度为0 ，而空节点的高度为-1。"}]}]},{"ID":"20240921184006-g4s5m4d","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240921184006-g4s5m4d","updated":"20240921184709"},"Children":[{"ID":"20240921184006-igtah9l","Type":"NodeParagraph","Properties":{"id":"20240921184006-igtah9l","updated":"20240921184709"},"Children":[{"Type":"NodeText","Data":"节点平衡因子：节点左子树的高度减去右子树的高度，同时规定空节点的平衡因子为0。平衡因子\u003e1就是失衡节点。"}]}]}]},{"ID":"20240921184315-dac7ivm","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240921184315-dac7ivm","updated":"20240922191411"},"Children":[{"Type":"NodeText","Data":"旋转"}]},{"ID":"20240921184322-7xsjjdf","Type":"NodeParagraph","Properties":{"id":"20240921184322-7xsjjdf","updated":"20240921184926"},"Children":[{"Type":"NodeText","Data":"在失衡节点处做一个旋转操作即可让这个树恢复平衡。"}]},{"ID":"20240921184928-rp4y9ih","Type":"NodeParagraph","Properties":{"id":"20240921184928-rp4y9ih","updated":"20240921184955"},"Children":[{"Type":"NodeText","Data":"如图这种情况就可以通过一次"},{"Type":"NodeTextMark","TextMarkType":"strong u","TextMarkTextContent":"右旋"},{"Type":"NodeText","Data":"操作完成平衡。"}]},{"ID":"20240921184554-ftyq0p2","Type":"NodeParagraph","Properties":{"id":"20240921184554-ftyq0p2","updated":"20240921184554"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"recording"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/recording-20240921184554-fn5aodw.gif"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20240921183921-94wrtvc","Type":"NodeParagraph","Properties":{"id":"20240921183921-94wrtvc","updated":"20240921184624"},"Children":[{"Type":"NodeText","Data":"如图 7-27 所示，当节点 child 有右子节点（记为 grand_child ）时，需要在右旋中添加一步：将 grand_child 作为 node 的左子节点。"}]},{"ID":"20240921184630-cqparts","Type":"NodeParagraph","Properties":{"id":"20240921184630-cqparts","updated":"20240921184630"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240921184630-7jaslsl.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20240921184631-yjnxmhq","Type":"NodeParagraph","Properties":{"id":"20240921184631-yjnxmhq","updated":"20240921185145"},"Children":[{"Type":"NodeText","Data":"同理，还有"},{"Type":"NodeTextMark","TextMarkType":"strong u","TextMarkTextContent":"左旋"},{"Type":"NodeText","Data":"、"},{"Type":"NodeTextMark","TextMarkType":"strong u","TextMarkTextContent":"右旋再左旋"},{"Type":"NodeText","Data":"、"},{"Type":"NodeTextMark","TextMarkType":"strong u","TextMarkTextContent":"左旋再右旋"},{"Type":"NodeText","Data":"。"}]},{"ID":"20240921185232-otaow4q","Type":"NodeSuperBlock","Properties":{"id":"20240921185232-otaow4q","updated":"20240921185233"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"col"},{"ID":"20240921185208-x5sbqn2","Type":"NodeParagraph","Properties":{"id":"20240921185208-x5sbqn2","updated":"20240921185233"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240921185208-64a3j0n.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20240921185226-gli8zr4","Type":"NodeParagraph","Properties":{"id":"20240921185226-gli8zr4","updated":"20240921185233"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240921185226-ao97liw.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20240921185233-a3vxuj5","Type":"NodeParagraph","Properties":{"id":"20240921185233-a3vxuj5","updated":"20240921185311"},"Children":[{"Type":"NodeText","Data":"旋转的选择：四种失衡情况与四种旋转方式逐个对应，分别需要采用右旋、先左旋后右旋、先右旋后左旋、左旋的操作。"}]},{"ID":"20240921185255-2y4rj96","Type":"NodeParagraph","Properties":{"id":"20240921185255-2y4rj96","updated":"20240922191411"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"https://syc-test111.oss-cn-chengdu.aliyuncs.com/image-20240921185255-hp984fa.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20240921185313-5vlr0mm","Type":"NodeParagraph","Properties":{"id":"20240921185313-5vlr0mm","updated":"20240921185651"},"Children":[{"Type":"NodeText","Data":"感觉记一记形状就可以理解记忆，写代码的话得按这个表："}]},{"ID":"20240921185651-tsiwoee","Type":"NodeTable","TableAligns":[0,0,0],"Properties":{"colgroup":"min-width: 60px;|min-width: 60px;|min-width: 60px;","id":"20240921185651-tsiwoee","updated":"20240921185825"},"Children":[{"Type":"NodeTableHead","Data":"thead","Children":[{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"失衡节点的平衡因子"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"子节点的平衡因子"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"应采用的旋转方法"}]}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"\u003e1"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"\u003e=0"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"右旋"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"\u003e1"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"\u003c0"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"先左旋再右旋"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"\u003c-1"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"\u003c=0"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"左旋"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"\u003c-1"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"\u003e0"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"先右旋再左旋"}]}]}]},{"ID":"20240921185844-1v6idff","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240921185844-1v6idff","updated":"20240921185844"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Y3Bw"},{"Type":"NodeCodeBlockCode","Data":"/* 执行旋转操作，使该子树重新恢复平衡 */\nTreeNode *rotate(TreeNode *node) {\n    // 获取节点 node 的平衡因子\n    int _balanceFactor = balanceFactor(node);\n    // 左偏树\n    if (_balanceFactor \u003e 1) {\n        if (balanceFactor(node-\u003eleft) \u003e= 0) {\n            // 右旋\n            return rightRotate(node);\n        } else {\n            // 先左旋后右旋\n            node-\u003eleft = leftRotate(node-\u003eleft);\n            return rightRotate(node);\n        }\n    }\n    // 右偏树\n    if (_balanceFactor \u003c -1) {\n        if (balanceFactor(node-\u003eright) \u003c= 0) {\n            // 左旋\n            return leftRotate(node);\n        } else {\n            // 先右旋后左旋\n            node-\u003eright = rightRotate(node-\u003eright);\n            return leftRotate(node);\n        }\n    }\n    // 平衡树，无须旋转，直接返回\n    return node;\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240921185846-gyjffx2","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240921185846-gyjffx2","updated":"20240922155511"},"Children":[{"Type":"NodeText","Data":"插入和删除"}]},{"ID":"20240921192431-as4k3gt","Type":"NodeParagraph","Properties":{"id":"20240921192431-as4k3gt","updated":"20240922151920"},"Children":[{"Type":"NodeText","Data":"AVL 树的节点插入操作与二叉搜索树在主体上类似。唯一的区别在于，在 AVL 树中插入节点后，从该节点到根节点的路径上可能会出现一系列失衡节点。因此，我们需要"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"从这个节点开始，自底向上执行旋转操作，使所有失衡节点恢复平衡"},{"Type":"NodeText","Data":"。"}]},{"ID":"20240922155501-puqab0n","Type":"NodeParagraph","Properties":{"id":"20240922155501-puqab0n","updated":"20240922155503"},"Children":[{"Type":"NodeText","Data":"插入节点："}]},{"ID":"20240922155429-tbwhf58","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240922155429-tbwhf58","updated":"20240922155429"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Y3Bw"},{"Type":"NodeCodeBlockCode","Data":"/* 插入节点 */\nvoid insert(int val) {\n    root = insertHelper(root, val);\n}\n\n/* 递归插入节点（辅助方法） */\nTreeNode *insertHelper(TreeNode *node, int val) {\n    if (node == nullptr)\n        return new TreeNode(val);\n    /* 1. 查找插入位置并插入节点 */\n    if (val \u003c node-\u003eval)\n        node-\u003eleft = insertHelper(node-\u003eleft, val);\n    else if (val \u003e node-\u003eval)\n        node-\u003eright = insertHelper(node-\u003eright, val);\n    else\n        return node;    // 重复节点不插入，直接返回\n    updateHeight(node); // 更新节点高度\n    /* 2. 执行旋转操作，使该子树重新恢复平衡 */\n    node = rotate(node);\n    // 返回子树的根节点\n    return node;\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240922155435-af5w8mg","Type":"NodeParagraph","Properties":{"id":"20240922155435-af5w8mg","updated":"20240922155509"},"Children":[{"Type":"NodeText","Data":"删除节点："}]},{"ID":"20240922155449-062r7sw","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240922155449-062r7sw","updated":"20240922155449"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Y3Bw"},{"Type":"NodeCodeBlockCode","Data":"/* 删除节点 */\nvoid remove(int val) {\n    root = removeHelper(root, val);\n}\n\n/* 递归删除节点（辅助方法） */\nTreeNode *removeHelper(TreeNode *node, int val) {\n    if (node == nullptr)\n        return nullptr;\n    /* 1. 查找节点并删除 */\n    if (val \u003c node-\u003eval)\n        node-\u003eleft = removeHelper(node-\u003eleft, val);\n    else if (val \u003e node-\u003eval)\n        node-\u003eright = removeHelper(node-\u003eright, val);\n    else {\n        if (node-\u003eleft == nullptr || node-\u003eright == nullptr) {\n            TreeNode *child = node-\u003eleft != nullptr ? node-\u003eleft : node-\u003eright;\n            // 子节点数量 = 0 ，直接删除 node 并返回\n            if (child == nullptr) {\n                delete node;\n                return nullptr;\n            }\n            // 子节点数量 = 1 ，直接删除 node\n            else {\n                delete node;\n                node = child;\n            }\n        } else {\n            // 子节点数量 = 2 ，则将中序遍历的下个节点删除，并用该节点替换当前节点\n            TreeNode *temp = node-\u003eright;\n            while (temp-\u003eleft != nullptr) {\n                temp = temp-\u003eleft;\n            }\n            int tempVal = temp-\u003eval;\n            node-\u003eright = removeHelper(node-\u003eright, temp-\u003eval);\n            node-\u003eval = tempVal;\n        }\n    }\n    updateHeight(node); // 更新节点高度\n    /* 2. 执行旋转操作，使该子树重新恢复平衡 */\n    node = rotate(node);\n    // 返回子树的根节点\n    return node;\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240922155511-muejwoy","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240922155511-muejwoy","updated":"20240923110329"},"Children":[{"Type":"NodeText","Data":"有什么用"}]},{"ID":"20240922161255-nrzdrf2","Type":"NodeList","ListData":{},"Properties":{"id":"20240922161255-nrzdrf2","updated":"20240922161308"},"Children":[{"ID":"20240922161255-wf3dupu","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240922161255-wf3dupu","updated":"20240922161308"},"Children":[{"ID":"20240922161237-1fx3ord","Type":"NodeParagraph","Properties":{"id":"20240922161237-1fx3ord","updated":"20240922161308"},"Children":[{"Type":"NodeText","Data":"组织和存储大型数据，适用于"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"高频查找、低频增删"},{"Type":"NodeText","Data":"的场景。"}]}]},{"ID":"20240922161259-sgp22f9","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240922161259-sgp22f9","updated":"20240922161259"},"Children":[{"ID":"20240922161259-eccvf3u","Type":"NodeParagraph","Properties":{"id":"20240922161259-eccvf3u","updated":"20240922161300"},"Children":[{"Type":"NodeText","Data":"用于构建数据库中的索引系统。"}]}]},{"ID":"20240922161300-lqwtrr3","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240922161300-lqwtrr3","updated":"20240922161300"},"Children":[{"ID":"20240922161300-0ttxfe8","Type":"NodeParagraph","Properties":{"id":"20240922161300-0ttxfe8","updated":"20240922161300"},"Children":[{"Type":"NodeText","Data":"红黑树也是一种常见的平衡二叉搜索树。相较于 AVL 树，红黑树的平衡条件更宽松，插入与删除节点所需的旋转操作更少，节点增删操作的平均效率更高。"}]}]}]}]}